# 水平居中

约定：
- 外部宽度/外部尺寸：指元素的margin box占据的尺寸。

## 1. 内联元素居中

### 1.1 text-align

text-align 属性控制内联子元素在本元素的 content box 范围内水平居中。注意，前提为子元素内联。对父元素没有要求，只要它的 content box 宽度大于子元素总宽时，就有效果，所以就算父元素是具有一定宽度的 inline-block 元素也可以。比如：

通常，父元素是块级元素：

```html
<div class="container">
  <span>123</span>
</div>
```
```css
span {
  text-align: center;
}
```

又或者：

```html
<span class="container">
  <span>123</span>
</span>
```
```css
.container {
  display: inline-block;
  width: 500px;
}
```

### 1.2 无依赖的绝对定位

摘录于《CSS世界》Ch6.5.3。先说代码再说原理。类似于这种布局：

```html
<div class="parent">
  <span class="child">absolute实现水平居中</span>
</div>
```

可以让 child 设置无依赖的 absolute，然后使用“负margin”或“translateX函数”（各有利弊，注意不能使用left/top/right/bottom）来调整至(水平的)中间位置：

```css
.parent {
  text-align: center;
}

.child {
  position: absolute;
  width: 200px;
  margin-left: 100px; /* -(width/2)。或使用 translateX(-50%) */
}
```

原理是：

- 设置 text-align 后， strut (由于内联)会被居中显示(虽然看不到)。
- child 被设置了 absolute 并且是“无依赖的”(没有设置left/top/right/bottom)，所以会紧跟在 strut 后面。于是此时水平方向上 child 在中点之后。
- 最后，将 child 的位置往左偏移一点即可。

另外，如果 child 本身是个块级元素(比如div)，该方法也是可以的。

该方法其实跟【水平竖直居中】中的“绝对定位 + left:50%”有点像。虽然不常用，但是对于理解无依赖的 absolute 以及 strut 等概念很有用。

再总结一句：

> relative + left/top/right/bottom === absolute + margin-*


## 2. 块级元素居中

因为块级元素默认是流体，即外部宽度总是占满父元素的content box。当子元素指定了宽度时，默认情况下margin-right会填充剩余的区域，表现为内容呆在左边。所以这时候对子元素设置：
```
.child {
  margin: 0 auto;
}
```
就可以使左右margin平分剩余宽度，从而让其padding box待在中间的位置，即水平居中。  


## 最后

最后，【水平竖直居中】中的方法当然也适用于这里啦。
